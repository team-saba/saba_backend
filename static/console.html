<!doctype html>
<html>
<head>
    <link rel="stylesheet" href="/static/dist/xterm.css"/>
    <script src="/static/dist/fetch.min.js"></script>
    <script src="/static/dist/xterm.js"></script>
    <script src="/static/dist/addons/attach/attach.js"></script>
    <script src="/static/dist/addons/fit/fit.js"></script>
    <script src="/static/dist/addons/fullscreen/fullscreen.js"></script>
</head>
<body>
<div id="terminal"></div>
<script>
    var term = new Terminal();
    const socket = new WebSocket('ws://100.66.145.29:8002/container/ws/5ba6b8bcf18f6815eb0e');
    term.attach(socket)
    term.open(document.getElementById('terminal'));
    term._initialized = true;
    term.fit();


    socket.onmessage = function (event) {
        console.log(event.data);
    };

    socket.onclose = function (event) {
        if (event.wasClean) {
            alert('Connection closed cleanly');
        } else {
            alert('Connection died');
        }
    };

    setInterval(function () {
        socket.send('\0');
    }, 1000);

</script>
</body>
</html>
